{
  "db": "PostgreSQL",
  "068f2dd03cf25e8c5e3f89a3667c405bb6b57d584da8e7e0ac55cb90bf793236": {
    "describe": {
      "columns": [
        {
          "name": "x",
          "ordinal": 0,
          "type_info": "Int4"
        }
      ],
      "nullable": [
        null
      ],
      "parameters": {
        "Left": [
          "Bytea"
        ]
      }
    },
    "query": "\nSELECT\n    1 AS x\nFROM\n    passwords\nWHERE\n    hash = SHA512($1)\n            "
  },
  "0a6cc5c3a3f99518af38832f764dd3b02c6532dd527c186c4f7fbffacc70239e": {
    "describe": {
      "columns": [
        {
          "name": "employee_id",
          "ordinal": 0,
          "type_info": "Int8"
        }
      ],
      "nullable": [
        false
      ],
      "parameters": {
        "Left": [
          "Text",
          "Text"
        ]
      }
    },
    "query": "\nINSERT INTO\n    employees (\"name\", color)\nVALUES\n    ($1, $2)\nRETURNING\n    employee_id\n            "
  },
  "0f78e72b01b0df0898659e9d37d29681740d12f869aaef90a476516c58a3975a": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Text",
          "Text",
          "Timestamptz",
          "Timestamptz",
          "Int8",
          "Int8"
        ]
      }
    },
    "query": "\nUPDATE events\nSET\n    title = $1,\n    details = $2,\n    period = TSTZRANGE ($3, $4, '[]'),\n    team_id = $5\nWHERE\n    event_id = $6\n            "
  },
  "12a39e3c241318fa9f4d84f40ba8e3a1b7ee7359a12a015dbdf868a740a26c71": {
    "describe": {
      "columns": [
        {
          "name": "employee_id",
          "ordinal": 0,
          "type_info": "Int8"
        },
        {
          "name": "name",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "color",
          "ordinal": 2,
          "type_info": "Text"
        },
        {
          "name": "disabled",
          "ordinal": 3,
          "type_info": "Bool"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false
      ],
      "parameters": {
        "Left": []
      }
    },
    "query": "\nSELECT\n    employee_id,\n    \"name\",\n    color,\n    disabled\nFROM\n    employees\nWHERE\n    NOT disabled\n                     "
  },
  "1f6eea35697bc7e42013c6807ef7845b8c0f5418687e1c1a306c0b028d4de885": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Int8",
          "Int8Array"
        ]
      }
    },
    "query": "\nINSERT INTO\n    events__employees (event_id, employee_id)\nSELECT\n    $1,\n    *\nFROM\n    UNNEST($2::BIGINT[])\n            "
  },
  "3ba2e7cf195cb94974253fb215639fff871ea983bd6d7ae503829f21824a60e5": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Int8"
        ]
      }
    },
    "query": "\nDELETE FROM events__employees\nWHERE\n    event_id = $1\n            "
  },
  "5ef1c3ff5429ff7ec17dfe64de71046151a080e31fd0894cd5d08726691ec855": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Int8"
        ]
      }
    },
    "query": "\nUPDATE employees\nSET\n    disabled = TRUE\nWHERE\n    employee_id = $1\n            "
  },
  "65d25f492bf316e1473157d31dc1ca6676e20fe3052e41a04f9d3b593529a11e": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Int8"
        ]
      }
    },
    "query": "\nDELETE FROM events\nWHERE\n    event_id = $1\n            "
  },
  "7d5da3d9a21ec37eec9a092ff85574e940cf2f58dd5e06efef9af8eabe62bf7c": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Bytea",
          "Bytea"
        ]
      }
    },
    "query": "\nUPDATE passwords\nSET\n    hash = SHA512($1)\nWHERE\n    hash = SHA512($2)\n            "
  },
  "86162fb6f1220c9b945a83190bc0bbec8b57b9674d1b568e5acb42f9c99faf73": {
    "describe": {
      "columns": [
        {
          "name": "team_id",
          "ordinal": 0,
          "type_info": "Int8"
        },
        {
          "name": "name",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "primary_color",
          "ordinal": 2,
          "type_info": "Text"
        },
        {
          "name": "secondary_color",
          "ordinal": 3,
          "type_info": "Text"
        },
        {
          "name": "disabled",
          "ordinal": 4,
          "type_info": "Bool"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false,
        false
      ],
      "parameters": {
        "Left": []
      }
    },
    "query": "\nSELECT\n    team_id,\n    \"name\",\n    primary_color,\n    secondary_color,\n    disabled\nFROM\n    teams\nWHERE\n    NOT disabled\n                     "
  },
  "883198e2228bc95648ffb7eaa9ed50e54d0a5def6f47cb8e24ea303b15ebf390": {
    "describe": {
      "columns": [
        {
          "name": "team_id",
          "ordinal": 0,
          "type_info": "Int8"
        }
      ],
      "nullable": [
        false
      ],
      "parameters": {
        "Left": [
          "Text",
          "Text",
          "Text"
        ]
      }
    },
    "query": "\nINSERT INTO\n    teams (\"name\", primary_color, secondary_color)\nVALUES\n    ($1, $2, $3)\nRETURNING\n    team_id\n            "
  },
  "94868e467d5224bdaf28337bb93d230d52736bf365a1ed97df6d5606806cf696": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Text",
          "Text",
          "Bool",
          "Int8"
        ]
      }
    },
    "query": "\nUPDATE employees\nSET\n    \"name\" = $1,\n    color = $2,\n    disabled = $3\nWHERE\n    employee_id = $4\n            "
  },
  "b8e998d096a8ad812e1e9f721e7c20b4103cf23052377bfd7a1430e02b78611f": {
    "describe": {
      "columns": [
        {
          "name": "event_id",
          "ordinal": 0,
          "type_info": "Int8"
        },
        {
          "name": "title",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "details",
          "ordinal": 2,
          "type_info": "Text"
        },
        {
          "name": "start!",
          "ordinal": 3,
          "type_info": "Timestamptz"
        },
        {
          "name": "end!",
          "ordinal": 4,
          "type_info": "Timestamptz"
        },
        {
          "name": "team",
          "ordinal": 5,
          "type_info": "Text"
        },
        {
          "name": "employees!",
          "ordinal": 6,
          "type_info": "Text"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        null,
        null,
        null,
        null
      ],
      "parameters": {
        "Left": [
          "TstzRange"
        ]
      }
    },
    "query": "\nSELECT\n    e.event_id,\n    e.title,\n    e.details,\n    LOWER(e.period) AS \"start!\",\n    UPPER(e.period) AS \"end!\",\n    CASE\n        WHEN t.team_id IS NULL THEN NULL\n        ELSE JSONB_BUILD_OBJECT(\n            'team_id',\n            t.team_id,\n            'name',\n            t.name,\n            'primary_color',\n            t.primary_color,\n            'secondary_color',\n            t.secondary_color,\n            'disabled',\n            t.disabled\n        )::TEXT\n    END AS team,\n    COALESCE(\n        JSONB_AGG(\n            JSONB_BUILD_OBJECT(\n                'employee_id',\n                em.employee_id,\n                'name',\n                em.name,\n                'color',\n                em.color,\n                'disabled',\n                em.disabled\n            )\n        ) FILTER (\n            WHERE\n                em.employee_id IS NOT NULL\n        ),\n        '[]'\n    )::TEXT AS \"employees!\"\nFROM\n    events e\n    LEFT JOIN teams t ON e.team_id = t.team_id\n    LEFT JOIN events__employees ee ON e.event_id = ee.event_id\n    LEFT JOIN employees em ON ee.employee_id = em.employee_id\nWHERE\n    (\n        $1::TSTZRANGE IS NULL\n        OR $1 && e.period\n    )\nGROUP BY\n    e.event_id,\n    t.team_id\n            "
  },
  "c0ec5044be7e16b6806e7d565561fce8f7f41e30b0036241f047d9f5b0c11052": {
    "describe": {
      "columns": [
        {
          "name": "event_id",
          "ordinal": 0,
          "type_info": "Int8"
        }
      ],
      "nullable": [
        false
      ],
      "parameters": {
        "Left": [
          "Text",
          "Text",
          "Timestamptz",
          "Timestamptz",
          "Int8"
        ]
      }
    },
    "query": "\nINSERT INTO\n    events (title, details, period, team_id)\nVALUES\n    ($1, $2, TSTZRANGE ($3, $4, '[]'), $5)\nRETURNING\n    event_id\n            "
  },
  "fc47c18476db68758549cc5fd03f2d13f9dcb537ac93c26be3e0de5726935e31": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Int8"
        ]
      }
    },
    "query": "\nUPDATE teams\nSET\n    disabled = TRUE\nWHERE\n    team_id = $1\n            "
  },
  "ff5fd25c4464ef05e2011de63e8a375de30aae8042635d048b02e4a7c7dc14c8": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Text",
          "Text",
          "Text",
          "Bool",
          "Int8"
        ]
      }
    },
    "query": "\nUPDATE teams\nSET\n    \"name\" = $1,\n    primary_color = $2,\n    secondary_color = $3,\n    disabled = $4\nWHERE\n    team_id = $5\n            "
  }
}